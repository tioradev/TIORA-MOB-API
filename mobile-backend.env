# ===================================
# MOBILE BACKEND ENVIRONMENT CONFIG
# ===================================
# Environment: AWS Production
# Service: TIORA Mobile API Backend
# Version: 0.0.3-SNAPSHOT

# -----------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------
SPRING_APPLICATION_NAME=TIORA-MOB-API
SERVER_PORT=8080
SERVER_SERVLET_CONTEXT_PATH=/api

# -----------------------------------
# DATABASE CONFIGURATION (Supabase)
# -----------------------------------
SPRING_DATASOURCE_URL=jdbc:postgresql://aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres
SPRING_DATASOURCE_USERNAME=postgres.owejwmmudkzblmbysqsi
SPRING_DATASOURCE_PASSWORD=0M8ABmzJmDRXt9h3
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver

# -----------------------------------
# DATABASE CONNECTION POOL (HikariCP)
# -----------------------------------
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=15
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=2
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=30000
SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT=600000
SPRING_DATASOURCE_HIKARI_MAX_LIFETIME=1800000
SPRING_DATASOURCE_HIKARI_CONNECTION_TEST_QUERY=SELECT 1
SPRING_DATASOURCE_HIKARI_VALIDATION_TIMEOUT=3000
SPRING_DATASOURCE_HIKARI_POOL_NAME=SupabaseConnectionPool
SPRING_DATASOURCE_HIKARI_LEAK_DETECTION_THRESHOLD=60000
SPRING_DATASOURCE_HIKARI_AUTO_COMMIT=true
SPRING_DATASOURCE_HIKARI_REGISTER_MBEANS=true

# -----------------------------------
# JPA / HIBERNATE CONFIGURATION
# -----------------------------------
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect
SPRING_JPA_OPEN_IN_VIEW=false

# -----------------------------------
# JACKSON JSON CONFIGURATION
# -----------------------------------
SPRING_JACKSON_DATE_FORMAT=yyyy-MM-dd HH:mm:ss
SPRING_JACKSON_TIME_ZONE=UTC
SPRING_JACKSON_SERIALIZATION_FAIL_ON_EMPTY_BEANS=false

# -----------------------------------
# JWT AUTHENTICATION CONFIGURATION
# -----------------------------------
APP_JWT_SECRET=yourStrongSecretKeyHere12345678901234567890
APP_JWT_EXPIRATION=3600000
JWT_HEADER=Authorization
JWT_PREFIX=Bearer

# -----------------------------------
# FILE UPLOAD CONFIGURATION
# -----------------------------------
SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=10MB
SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=10MB
APP_UPLOAD_DIR=/app/uploads/salon

# -----------------------------------
# REDIS CONFIGURATION (AWS ElastiCache)
# -----------------------------------
SPRING_DATA_REDIS_HOST=your-redis-cluster.cache.amazonaws.com
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_DATABASE=0
SPRING_DATA_REDIS_TIMEOUT=2000ms
SPRING_DATA_REDIS_LETTUCE_POOL_MAX_ACTIVE=8
SPRING_DATA_REDIS_LETTUCE_POOL_MAX_IDLE=8
SPRING_DATA_REDIS_LETTUCE_POOL_MIN_IDLE=0

# -----------------------------------
# REDIS STREAMS CONFIGURATION
# -----------------------------------
MOBILE_REDIS_STREAMS_APPOINTMENT_STREAM=salon:appointments
MOBILE_REDIS_STREAMS_CONSUMER_GROUP=mobile-backend-group
MOBILE_REDIS_STREAMS_CONSUMER_NAME=mobile-backend-consumer

# -----------------------------------
# EMAIL CONFIGURATION
# -----------------------------------
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=your-salon-email@gmail.com
SPRING_MAIL_PASSWORD=your-app-password
SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE=true

# -----------------------------------
# APPLICATION SPECIFIC CONFIGURATION
# -----------------------------------
APP_APPOINTMENT_CANCELLATION_HOURS=24
APP_TIMESLOT_DURATION_MINUTES=30
APP_NOTIFICATION_EMAIL_ENABLED=true
APP_NOTIFICATION_SMS_ENABLED=true

# -----------------------------------
# LOGGING CONFIGURATION
# -----------------------------------
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_SALON=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB=INFO
LOGGING_LEVEL_ORG_HIBERNATE=ERROR
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_DATA_REDIS=INFO
LOGGING_LEVEL_COM_TIORA_MOB_SERVICE=DEBUG
LOGGING_LEVEL_COM_TIORA_MOB_HEALTH=INFO
LOGGING_PATTERN_CONSOLE=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# -----------------------------------
# AWS SPECIFIC CONFIGURATION
# -----------------------------------
AWS_REGION=ap-southeast-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# -----------------------------------
# HEALTH CHECK & MONITORING
# -----------------------------------
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always
MANAGEMENT_HEALTH_REDIS_ENABLED=true
MANAGEMENT_HEALTH_DB_ENABLED=true

# -----------------------------------
# CORS CONFIGURATION
# -----------------------------------
CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com,https://your-admin-panel.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true

# -----------------------------------
# DOCKER SPECIFIC
# -----------------------------------
JAVA_OPTS=-Xmx512m -Xms256m -Dspring.profiles.active=prod
TZ=Asia/Colombo
