# ===================================
# WEB BACKEND ENVIRONMENT CONFIG
# ===================================
# Environment: AWS Production
# Service: TIORA Web Admin Backend
# Version: 1.0.0

# -----------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------
SPRING_APPLICATION_NAME=TIORA-WEB-API
SERVER_PORT=8081
SERVER_SERVLET_CONTEXT_PATH=/admin-api

# -----------------------------------
# DATABASE CONFIGURATION (Shared with Mobile)
# -----------------------------------
SPRING_DATASOURCE_URL=jdbc:postgresql://aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres
SPRING_DATASOURCE_USERNAME=postgres.owejwmmudkzblmbysqsi
SPRING_DATASOURCE_PASSWORD=0M8ABmzJmDRXt9h3
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver

# -----------------------------------
# DATABASE CONNECTION POOL
# -----------------------------------
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=20
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=5
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=30000
SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT=600000
SPRING_DATASOURCE_HIKARI_MAX_LIFETIME=1800000
SPRING_DATASOURCE_HIKARI_POOL_NAME=WebBackendConnectionPool

# -----------------------------------
# JPA / HIBERNATE CONFIGURATION
# -----------------------------------
SPRING_JPA_HIBERNATE_DDL_AUTO=validate
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect
SPRING_JPA_OPEN_IN_VIEW=false

# -----------------------------------
# JWT AUTHENTICATION (Shared Secret)
# -----------------------------------
APP_JWT_SECRET=yourStrongSecretKeyHere12345678901234567890
APP_JWT_EXPIRATION=7200000
JWT_HEADER=Authorization
JWT_PREFIX=Bearer

# -----------------------------------
# REDIS CONFIGURATION (Shared)
# -----------------------------------
SPRING_DATA_REDIS_HOST=your-redis-cluster.cache.amazonaws.com
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_DATABASE=1
SPRING_DATA_REDIS_TIMEOUT=2000ms

# -----------------------------------
# REDIS STREAMS FOR WEB BACKEND
# -----------------------------------
WEB_REDIS_STREAMS_ADMIN_STREAM=salon:admin-events
WEB_REDIS_STREAMS_CONSUMER_GROUP=web-backend-group
WEB_REDIS_STREAMS_CONSUMER_NAME=web-backend-consumer

# -----------------------------------
# EMAIL CONFIGURATION (Shared)
# -----------------------------------
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=your-salon-email@gmail.com
SPRING_MAIL_PASSWORD=your-app-password
SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE=true

# -----------------------------------
# FILE UPLOAD (Web Admin)
# -----------------------------------
SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=50MB
SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=50MB
APP_UPLOAD_DIR=/app/uploads/admin

# -----------------------------------
# LOGGING CONFIGURATION
# -----------------------------------
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_SALON=DEBUG
LOGGING_PATTERN_CONSOLE=%d{yyyy-MM-dd HH:mm:ss} [WEB-BACKEND] - %msg%n

# -----------------------------------
# CORS CONFIGURATION (Web Admin)
# -----------------------------------
CORS_ALLOWED_ORIGINS=https://admin.yoursalon.com,http://localhost:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true

# -----------------------------------
# AWS SPECIFIC
# -----------------------------------
AWS_REGION=ap-southeast-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# -----------------------------------
# DOCKER SPECIFIC
# -----------------------------------
JAVA_OPTS=-Xmx1024m -Xms512m -Dspring.profiles.active=prod
TZ=Asia/Colombo
